"use strict";(self.webpackChunkmoneyguard=self.webpackChunkmoneyguard||[]).push([[644],{6832:function(e,a,s){s(2791);a.Z=s.p+"static/media/email.2fd943bf0862565ef169609b1a6d9ab7.svg"},5622:function(e,a,s){s(2791);a.Z=s.p+"static/media/lock.f1fff11aaea1001ed9cc96ef32420c78.svg"},3885:function(e,a,s){s(2791);a.Z=s.p+"static/media/logo.dce3145872188e100148c46882b30412.svg"},4616:function(e,a,s){s.d(a,{Z:function(){return L}});var t=s(1413),n=s(5861),i=s(9439),r=s(4687),o=s.n(r),c=s(2791),l=s(5705),m=s(8007),u=s(1467),d=s(7517),p=s(7952),_="RegistrationForm_form__OqhNk",g="RegistrationForm_logoContainer__sRGlT",h="RegistrationForm_logo__d98kj",f="RegistrationForm_title__+yY7z",v="RegistrationForm_inputContainer__il-+T",x="RegistrationForm_input__7AXiz",j="RegistrationForm_icon__Jh3ua",b="RegistrationForm_buttonContainer__B4vib";var y=s.p+"static/media/user.862a4f41112400de008e0d66b234faa9.svg",N=s(6832),Z=s(5622),w=s(3885),S={notification:"Notification_notification__ZLS+r",success:"Notification_success__7SWP1",error:"Notification_error__tijZb",closeButton:"Notification_closeButton__9jYhR"},C=s(3329),k=function(e){var a=e.message,s=e.type,t=e.onClose;return a?(0,C.jsxs)("div",{className:"".concat(S.notification," ").concat(S[s]),children:[(0,C.jsx)("p",{children:a}),(0,C.jsx)("button",{onClick:t,className:S.closeButton,children:"X"})]}):null},L=function(e){e.onSubmit;var a=e.onSwitchToLogin,s=(0,c.useState)(""),r=(0,i.Z)(s,2),S=r[0],L=r[1],F=(0,c.useState)({message:"",type:""}),R=(0,i.Z)(F,2),P=R[0],I=R[1],T=(0,p.s0)(),B=(0,l.TA)({initialValues:{name:"",email:"",password:"",confirmPassword:""},validationSchema:m.Ry({name:m.Z_().min(2,"Minim 2 caractere").required("Numele este obligatoriu"),email:m.Z_().email("Email invalid").required("Email obligatoriu"),password:m.Z_().min(6,"Minim 6 caractere").max(12,"Maxim 12 caractere").required("Parola obligatorie"),confirmPassword:m.Z_().oneOf([m.iH("password"),null],"Parolele nu se potrivesc").required("Confirmarea parolei este obligatorie")}),onSubmit:function(){var e=(0,n.Z)(o().mark((function e(a,s){var t,n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.setSubmitting,I({message:"",type:""}),e.prev=2,e.next=5,fetch("https://wallet.b.goit.study/api/auth/sign-up",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 5:return n=e.sent,e.next=8,n.json();case 8:if(i=e.sent,n.ok){e.next=11;break}throw new Error(i.message||"A ap\u0103rut o eroare!");case 11:I({message:"\xcenregistrare reu\u0219it\u0103! Te redirec\u021bion\u0103m...",type:"success"}),localStorage.setItem("user",JSON.stringify(i.user)),setTimeout((function(){T("/dashboard")}),2e3),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),I({message:e.t0.message,type:"error"});case 19:return e.prev=19,t(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(a,s){return e.apply(this,arguments)}}()});return(0,C.jsxs)("div",{children:[" ",(0,C.jsx)(k,{message:P.message,type:P.type,onClose:function(){return I({message:"",type:""})}}),(0,C.jsxs)("form",{onSubmit:B.handleSubmit,className:_,children:[(0,C.jsxs)("div",{className:g,children:[(0,C.jsx)("img",{src:w.Z,alt:"Logo Money Guard",className:h}),(0,C.jsx)("h2",{className:f,children:"Money Guard"})]}),(0,C.jsxs)("div",{className:v,children:[(0,C.jsx)("img",{src:y,alt:"User Icon",className:j}),(0,C.jsx)("input",(0,t.Z)((0,t.Z)({type:"text",name:"name",placeholder:"Name",className:x},B.getFieldProps("name")),{},{autoComplete:"name"}))]}),(0,C.jsxs)("div",{className:v,children:[(0,C.jsx)("img",{src:N.Z,alt:"Email Icon",className:j}),(0,C.jsx)("input",(0,t.Z)((0,t.Z)({type:"email",name:"email",placeholder:"E-mail",className:x},B.getFieldProps("email")),{},{autoComplete:"email"}))]}),(0,C.jsxs)("div",{className:v,children:[(0,C.jsx)("img",{src:Z.Z,alt:"Lock Icon",className:j}),(0,C.jsx)("input",{type:"password",name:"password",placeholder:"Password",className:x,onChange:function(e){var a=e.target.value;L(a),B.setFieldValue("password",a)},value:B.values.password,autoComplete:"new-password"})]}),(0,C.jsxs)("div",{className:v,children:[(0,C.jsx)("img",{src:Z.Z,alt:"Lock Icon",className:j}),(0,C.jsx)("input",(0,t.Z)((0,t.Z)({type:"password",name:"confirmPassword",placeholder:"Confirm Password",className:x},B.getFieldProps("confirmPassword")),{},{autoComplete:"new-password"}))]}),(0,C.jsx)(u.Z,{password:S}),(0,C.jsxs)("div",{className:b,children:[(0,C.jsx)(d.Z,{type:"submit",variant:"primary",children:"REGISTER"}),(0,C.jsx)(d.Z,{type:"button",onClick:a,variant:"secondary",children:"LOG IN"})]})]})]})}},7517:function(e,a,s){s.d(a,{Z:function(){return i}});s(2791);var t={button:"Btn_button__nYu9U",primary:"Btn_primary__LrMT9",secondary:"Btn_secondary__AMLGI",formbutton:"Btn_formbutton__lVjUP"},n=s(3329),i=function(e){var a=e.children,s=e.type,i=void 0===s?"button":s,r=e.onClick,o=e.variant,c=void 0===o?"primary":o,l=e.isDisabled,m=void 0!==l&&l;return(0,n.jsx)("button",{type:i||"button",onClick:r,className:"".concat(t.formbutton," ").concat(t[c]),disabled:m,children:a})}},644:function(e,a,s){s.r(a),s.d(a,{default:function(){return L}});var t=s(5861),n=s(9439),i=s(4687),r=s.n(i),o=s(2791),c=s(4420),l=s(7952),m=s(5705),u=s(8007),d=s(7517),p="LoginForm_form__Z4ZZ9",_="LoginForm_logoContainer__hN5t-",g="LoginForm_logo__iQjCL",h="LoginForm_title__bit0G",f="LoginForm_inputContainer__e7Zse",v="LoginForm_input__B8CMj",x="LoginForm_icon__S6Lhd",j="LoginForm_buttonContainer__XejKg",b=s(3885),y=s(6832),N=s(5622),Z=s(3329),w=function(e){var a=e.onSubmit,s=e.onSwitchToRegister,t=u.Ry({email:u.Z_().email("Invalid email address").required("Required"),password:u.Z_().min(6,"Password must be at least 6 characters").required("Required")});return(0,Z.jsx)(m.J9,{initialValues:{email:"",password:""},validationSchema:t,onSubmit:a,children:(0,Z.jsxs)(m.l0,{className:p,children:[(0,Z.jsxs)("div",{className:_,children:[(0,Z.jsx)("img",{src:b.Z,alt:"Logo Money Guard",className:g}),(0,Z.jsx)("h2",{className:h,children:"Money Guard"})]}),(0,Z.jsxs)("div",{className:f,children:[(0,Z.jsx)("img",{src:y.Z,alt:"Email Icon",className:x}),(0,Z.jsx)(m.gN,{className:v,type:"email",name:"email",placeholder:"E-mail",autoComplete:"username"}),(0,Z.jsx)(m.Bc,{name:"email",component:"div"})]}),(0,Z.jsxs)("div",{className:f,children:[(0,Z.jsx)("img",{src:N.Z,alt:"Lock Icon",className:x}),(0,Z.jsx)(m.gN,{className:v,type:"password",name:"password",placeholder:"Password",autoComplete:"current-password"}),(0,Z.jsx)(m.Bc,{name:"password",component:"div"})]}),(0,Z.jsxs)("div",{className:j,children:[(0,Z.jsx)(d.Z,{type:"submit",variant:"primary",children:"LOG IN"}),(0,Z.jsx)(d.Z,{type:"button",onClick:s,variant:"secondary",children:"REGISTER"})]})]})})},S=s(3541),C=s(8),k=s(4616),L=function(){var e=(0,c.I0)(),a=(0,l.s0)(),s=(0,o.useState)(""),i=(0,n.Z)(s,2),m=i[0],u=i[1],d=(0,o.useState)(!0),p=(0,n.Z)(d,2),_=p[0],g=p[1],h=function(){var s=(0,t.Z)(r().mark((function s(t){var n,i,o;return r().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,C.Z.post(_?"https://wallet.b.goit.study/api/auth/sign-in":"https://wallet.b.goit.study/api/auth/sign-up",t);case 3:n=s.sent,e((0,S.he)({token:n.data.token,user:n.data.user})),a("/dashboard"),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),u("Autentificare e\u0219uat\u0103! "+((null===(i=s.t0.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||"\xcencerca\u021bi din nou."));case 11:case"end":return s.stop()}}),s,null,[[0,8]])})));return function(e){return s.apply(this,arguments)}}();return(0,Z.jsxs)("div",{children:[m&&(0,Z.jsx)("div",{children:m}),_?(0,Z.jsx)(w,{onSubmit:h,onSwitchToRegister:function(){g(!1)}}):(0,Z.jsx)(k.Z,{onSubmit:h,onSwitchToLogin:function(){g(!0)}})]})}}}]);
//# sourceMappingURL=644.33f077a1.chunk.js.map